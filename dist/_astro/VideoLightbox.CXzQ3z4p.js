import{p as S,o as K,c as M,i as j,b as D,s as G}from"./props.C57yGE-w.js";import{o as B,q as P,E as $,B as H,u as W,v as J,w as Q,T as X,x as Y,y as Z,z as y,A as L,C as R,D as tt,F as at,G as et,d as rt,i as it,H as ot,m as st,l as nt,b as U,f as ct,$ as lt,t as ft,j as V,c as E,r as C,a as vt}from"./render.BcpkHT4J.js";/* empty css                       */const dt=()=>performance.now(),b={tick:a=>requestAnimationFrame(a),now:()=>dt(),tasks:new Set};function q(){const a=b.now();b.tasks.forEach(t=>{t.c(a)||(b.tasks.delete(t),t.f())}),b.tasks.size!==0&&b.tick(q)}function ut(a){let t;return b.tasks.size===0&&b.tick(q),{promise:new Promise(r=>{b.tasks.add(t={c:a,f:r})}),abort(){b.tasks.delete(t)}}}function x(a,t){a.dispatchEvent(new CustomEvent(t))}function pt(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const t=a.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function z(a){const t={},r=a.split(";");for(const e of r){const[i,c]=e.split(":");if(!i||c===void 0)break;const d=pt(i.trim());t[d]=c.trim()}return t}const ht=a=>a;function _t(a,t,r,e){var i=(a&at)!==0,c=(a&et)!==0,d=i&&c,g=(a&X)!==0,k=d?"both":i?"in":"out",p,o=t.inert,n=t.style.overflow,l,f;function _(){var m=tt,w=B;L(null),R(null);try{return p??=r()(t,e?.()??{},{direction:k})}finally{L(m),R(w)}}var s={is_global:g,in(){if(t.inert=o,!i){f?.abort(),f?.reset?.();return}c||l?.abort(),x(t,"introstart"),l=A(t,_(),f,1,()=>{x(t,"introend"),l?.abort(),l=p=void 0,t.style.overflow=n})},out(m){if(!c){m?.(),p=void 0;return}t.inert=!0,x(t,"outrostart"),f=A(t,_(),l,0,()=>{x(t,"outroend"),m?.()})},stop:()=>{l?.abort(),f?.abort()}},h=B;if((h.transitions??=[]).push(s),i&&P){var u=g;if(!u){for(var v=h.parent;v&&v.f&$;)for(;(v=v.parent)&&!(v.f&H););u=!v||(v.f&W)!==0}u&&J(()=>{Q(()=>s.in())})}}function A(a,t,r,e,i){var c=e===1;if(Y(t)){var d,g=!1;return Z(()=>{if(!g){var h=t({direction:c?"in":"out"});d=A(a,h,r,e,i)}}),{abort:()=>{g=!0,d?.abort()},deactivate:()=>d.deactivate(),reset:()=>d.reset(),t:()=>d.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:y,deactivate:y,reset:y,t:()=>e};const{delay:k=0,css:p,tick:o,easing:n=ht}=t;var l=[];if(c&&r===void 0&&(o&&o(0,1),p)){var f=z(p(0,1));l.push(f,f)}var _=()=>1-e,s=a.animate(l,{duration:k});return s.onfinish=()=>{var h=r?.t()??1-e;r?.abort();var u=e-h,v=t.duration*Math.abs(u),m=[];if(v>0){var w=!1;if(p)for(var F=Math.ceil(v/16.666666666666668),N=0;N<=F;N+=1){var I=h+u*n(N/F),O=z(p(I,1-I));m.push(O),w||=O.overflow==="hidden"}w&&(a.style.overflow="hidden"),_=()=>{var T=s.currentTime;return h+u*n(T/v)},o&&ut(()=>{if(s.playState!=="running")return!1;var T=_();return o(T,1-T),!0})}s=a.animate(m,{duration:v,fill:"forwards"}),s.onfinish=()=>{_=()=>e,o?.(e,1-e),i()}},{abort:()=>{s&&(s.cancel(),s.effect=null,s.onfinish=y)},deactivate:()=>{i=y},reset:()=>{e===0&&o?.(1,0)},t:()=>_()}}const bt=a=>a;function gt(a,{delay:t=0,duration:r=400,easing:e=bt}={}){const i=+getComputedStyle(a).opacity;return{delay:t,duration:r,easing:e,css:c=>`opacity: ${c*i}`}}function mt(a,t){console.log("Background clicked",a.target,a.currentTarget),a.target===a.currentTarget&&(console.log("Background click detected, closing lightbox"),t()())}var kt=(a,t)=>{console.log("Close button clicked"),t()()},yt=ft('<div class="lightbox-overlay svelte-sveh0t" role="dialog" aria-modal="true" aria-label="Video player" tabindex="-1"><div class="lightbox-background svelte-sveh0t" aria-hidden="true"></div> <div class="lightbox-content svelte-sveh0t"><div class="lightbox-toolbar svelte-sveh0t"><button class="close-button hover-opacity svelte-sveh0t" aria-label="Close video">Ã—</button></div> <div class="video-wrapper svelte-sveh0t"><iframe width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen="" title="Video content" loading="lazy"></iframe></div></div></div>');function Ct(a,t){it(t,!0);const r=S(t,"videoUrl",3,""),e=S(t,"onClose",3,()=>{});let i;K(()=>{document.body.classList.add("lightbox-active"),i?.focus()}),M(()=>{document.body.classList.remove("lightbox-active")});function c(o){const n=o.match(/(?:vimeo.com\/)(\d+)/);return n?.[1]?`https://player.vimeo.com/video/${n[1]}`:o}function d(o){console.log("Key pressed:",o.key),o.key==="Escape"&&(console.log("Escape key pressed, closing lightbox"),e()())}var g=ot();st("keydown",lt,d);var k=nt(g);{var p=o=>{var n=yt();n.__click=[mt,e];var l=V(E(n),2),f=E(l),_=E(f);_.__click=[kt,e],C(f);var s=V(f,2),h=E(s);C(s),C(l),C(n),D(n,u=>i=u,()=>i),vt(u=>G(h,"src",u),[()=>`${c(r())}?autoplay=1&title=0&byline=0&portrait=0`]),_t(3,n,()=>gt,()=>({duration:200})),U(o,n)};j(k,o=>{r()&&o(p)})}U(a,g),ct()}rt(["click"]);export{Ct as V,gt as f,_t as t};
